import CrawlState, { Exploit } from '../state.ts'
import getCrawlState from '../get.ts'

const getExploits = async (
  captain?: string,
  state?: CrawlState
): Promise<Exploit[]> => {
  const { crew, exploits } = state ?? await getCrawlState()
  const capt = captain ?? crew.positions.captain[0]
  return capt in exploits ? exploits[capt] : []
}

export default getExploits


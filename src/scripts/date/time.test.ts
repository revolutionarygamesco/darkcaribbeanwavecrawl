import { MODULE_ID } from '../settings.ts'
import getTime from './time'

describe('getTime', () => {
  it.each([
    ['24 July 1715, 8:15 PM', 'first', 0],
    ['24 July 1715, 8:30 PM', 'first', 1],
    ['24 July 1715, 8:45 PM', 'first', 1],
    ['24 July 1715, 9:00 PM', 'first', 2],
    ['24 July 1715, 9:15 PM', 'first', 2],
    ['24 July 1715, 9:30 PM', 'first', 3],
    ['24 July 1715, 9:45 PM', 'first', 3],
    ['24 July 1715, 10:00 PM', 'first', 4],
    ['24 July 1715, 10:15 PM', 'first', 4],
    ['24 July 1715, 10:30 PM', 'first', 5],
    ['24 July 1715, 10:45 PM', 'first', 5],
    ['24 July 1715, 11:00 PM', 'first', 6],
    ['24 July 1715, 11:15 PM', 'first', 6],
    ['24 July 1715, 11:30 PM', 'first', 7],
    ['24 July 1715, 11:45 PM', 'first', 7],
    ['25 July 1715, 12:00 AM', 'first', 8],
    ['25 July 1715, 12:15 AM', 'middle', 0],
    ['25 July 1715, 12:30 AM', 'middle', 1],
    ['25 July 1715, 12:45 AM', 'middle', 1],
    ['25 July 1715, 1:00 AM', 'middle', 2],
    ['25 July 1715, 1:15 AM', 'middle', 2],
    ['25 July 1715, 1:30 AM', 'middle', 3],
    ['25 July 1715, 1:45 AM', 'middle', 3],
    ['25 July 1715, 2:00 AM', 'middle', 4],
    ['25 July 1715, 2:15 AM', 'middle', 4],
    ['25 July 1715, 2:30 AM', 'middle', 5],
    ['25 July 1715, 2:45 AM', 'middle', 5],
    ['25 July 1715, 3:00 AM', 'middle', 6],
    ['25 July 1715, 3:15 AM', 'middle', 6],
    ['25 July 1715, 3:30 AM', 'middle', 7],
    ['25 July 1715, 3:45 AM', 'middle', 7],
    ['25 July 1715, 4:00 AM', 'middle', 8],
    ['25 July 1715, 4:15 AM', 'morning', 0],
    ['25 July 1715, 4:30 AM', 'morning', 1],
    ['25 July 1715, 4:45 AM', 'morning', 1],
    ['25 July 1715, 5:00 AM', 'morning', 2],
    ['25 July 1715, 5:15 AM', 'morning', 2],
    ['25 July 1715, 5:30 AM', 'morning', 3],
    ['25 July 1715, 5:45 AM', 'morning', 3],
    ['25 July 1715, 6:00 AM', 'morning', 4],
    ['25 July 1715, 6:15 AM', 'morning', 4],
    ['25 July 1715, 6:30 AM', 'morning', 5],
    ['25 July 1715, 6:45 AM', 'morning', 5],
    ['25 July 1715, 7:00 AM', 'morning', 6],
    ['25 July 1715, 7:15 AM', 'morning', 6],
    ['25 July 1715, 7:30 AM', 'morning', 7],
    ['25 July 1715, 7:45 AM', 'morning', 7],
    ['25 July 1715, 8:00 AM', 'morning', 8],
    ['25 July 1715, 8:15 AM', 'forenoon', 0],
    ['25 July 1715, 8:30 AM', 'forenoon', 1],
    ['25 July 1715, 8:45 AM', 'forenoon', 1],
    ['25 July 1715, 9:00 AM', 'forenoon', 2],
    ['25 July 1715, 9:15 AM', 'forenoon', 2],
    ['25 July 1715, 9:30 AM', 'forenoon', 3],
    ['25 July 1715, 9:45 AM', 'forenoon', 3],
    ['25 July 1715, 10:00 AM', 'forenoon', 4],
    ['25 July 1715, 10:15 AM', 'forenoon', 4],
    ['25 July 1715, 10:30 AM', 'forenoon', 5],
    ['25 July 1715, 10:45 AM', 'forenoon', 5],
    ['25 July 1715, 11:00 AM', 'forenoon', 6],
    ['25 July 1715, 11:15 AM', 'forenoon', 6],
    ['25 July 1715, 11:30 AM', 'forenoon', 7],
    ['25 July 1715, 11:45 AM', 'forenoon', 7],
    ['25 July 1715, 12:00 PM', 'forenoon', 8],
    ['25 July 1715, 12:15 PM', 'afternoon', 0],
    ['25 July 1715, 12:30 PM', 'afternoon', 1],
    ['25 July 1715, 12:45 PM', 'afternoon', 1],
    ['25 July 1715, 1:00 PM', 'afternoon', 2],
    ['25 July 1715, 1:15 PM', 'afternoon', 2],
    ['25 July 1715, 1:30 PM', 'afternoon', 3],
    ['25 July 1715, 1:45 PM', 'afternoon', 3],
    ['25 July 1715, 2:00 PM', 'afternoon', 4],
    ['25 July 1715, 2:15 PM', 'afternoon', 4],
    ['25 July 1715, 2:30 PM', 'afternoon', 5],
    ['25 July 1715, 2:45 PM', 'afternoon', 5],
    ['25 July 1715, 3:00 PM', 'afternoon', 6],
    ['25 July 1715, 3:15 PM', 'afternoon', 6],
    ['25 July 1715, 3:30 PM', 'afternoon', 7],
    ['25 July 1715, 3:45 PM', 'afternoon', 7],
    ['25 July 1715, 4:00 PM', 'afternoon', 8],
    ['25 July 1715, 4:15 PM', 'dog1', 0],
    ['25 July 1715, 4:30 PM', 'dog1', 1],
    ['25 July 1715, 4:45 PM', 'dog1', 1],
    ['25 July 1715, 5:00 PM', 'dog1', 2],
    ['25 July 1715, 5:15 PM', 'dog1', 2],
    ['25 July 1715, 5:30 PM', 'dog1', 3],
    ['25 July 1715, 5:45 PM', 'dog1', 3],
    ['25 July 1715, 6:00 PM', 'dog1', 8],
    ['25 July 1715, 6:15 PM', 'dog2', 0],
    ['25 July 1715, 6:30 PM', 'dog2', 1],
    ['25 July 1715, 6:45 PM', 'dog2', 1],
    ['25 July 1715, 7:00 PM', 'dog2', 2],
    ['25 July 1715, 7:15 PM', 'dog2', 2],
    ['25 July 1715, 7:30 PM', 'dog2', 3],
    ['25 July 1715, 7:45 PM', 'dog2', 3],
    ['25 July 1715, 8:00 PM', 'dog2', 8]
  ] as [string, string, number][])(`translates %s to %s watch and %d bells`, (date, expectedWatch, expectedBells) => {
    const expectedText = expectedBells === 0
      ? `${MODULE_ID}.watches.${expectedWatch}`
      : `${MODULE_ID}.watches.${expectedWatch}, ${MODULE_ID}.bells.${expectedBells}`
    const { text, watch, bells } = getTime(new Date(date))
    expect(watch).toBe(expectedWatch)
    expect(bells).toBe(expectedBells)
    expect(text).toBe(expectedText)
  })
})
